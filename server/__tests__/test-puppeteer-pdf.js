const puppeteer = require("puppeteer");
const fs = require("fs");

(async () => {
  const browser = await puppeteer.launch({
    executablePath: "/usr/bin/google-chrome",
    args: ["--no-sandbox"],
  });
  const page = await browser.newPage();
  const html = `
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="utf-8">
        <title>Puppeteer PDF Test</title>
      </head>
      <body>
        <h1>Hello PDF</h1>
        <p>This PDF was generated by Puppeteer in isolation.</p>
      </body>
    </html>
  `;
  await page.setContent(html);
  const pdf = await page.pdf({
    path: "../samples/test-manual.pdf",
    format: "A4",
    printBackground: true,
    margin: {
      top: "1cm",
      right: "1cm",
      bottom: "1cm",
      left: "1cm",
    },
  });
  console.log("Is PDF a Buffer?", Buffer.isBuffer(pdf));
  await browser.close();
  console.log("PDF generated as test-manual.pdf");
})();
